<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="format-detection" content="telephone=no">
    <script>
        window.MSInputMethodContext && document.documentMode && document.write('<script src="assets/js/ie11CustomProperties.js"><\x2fscript>');
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans+Condensed:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.min.css" />
    <title>
        {{ title }}
    </title>
    <script src="https://api-maps.yandex.ru/2.1/?apikey=1c9ab29b-1afd-4a21-b1ea-478c36667e22
        &lang=ru_RU" type="text/javascript">
        </script>
</head>

<body class="no-touch {{#if whiteBackground }} white-bg {{/if}} {{#if assistantPage }} assistant-page {{/if}} {{#if servicesPage }} services-page {{/if}}"
    ontouchstart="">
    <div class="sprite" aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;">
        {{> sprite }}
    </div>

    <div class="page-content">
        {{> header }}
        <main class="page-main">
            {{#block "main"}}

            {{/block}}

        </main>
        {{> footer }}
        {{> modals }}
        {{> messages }}
        {{> change-browser }}
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="js/app.js"></script>
        <script src="assets/js/contactsMap.js"></script>
        <script>
            // Тестовые скрипты для демонстрации верстки

            const passwordResetForm = document.querySelector('.js-reset-password-test-form');

            if (passwordResetForm) {
                passwordResetForm.addEventListener('submit', function(event) {
                    event.preventDefault();

                    if ($(passwordResetForm).parsley().isValid()) {
                        setTimeout(() => {
                            if (window.openModal) {
                                window.closeAllModals()
                                window.openModal('#reset-password-success')
                            }
                        }, 200)
                    }
                })
            }



            const removeCardBtn = document.querySelector('#remove-card-btn');

            if (removeCardBtn) {
                removeCardBtn.addEventListener('click', event => {
                    event.preventDefault();

                    window.closeAllModals();

                    window.showMessage('#card-removed-message');
                })
            }


            const changeRulesFail = document.querySelector('#change-rules-fail-btn');

            if (changeRulesFail) {
                changeRulesFail.addEventListener('click', event => {
                    event.preventDefault();

                    window.showMessage('#change-rules-fail-message');
                })
            }
        </script>
    </div>
</body>

</html>